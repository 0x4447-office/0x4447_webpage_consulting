---
layout: default
permalink: /contact
title: Contact
---
  <script src="/assets/js/aws-sdk-2.656.0.min.js"></script>

    <!-- WELCOME
    ================================================== -->
    <section class="py-10 py-md-14 overlay overlay-black overlay-60 bg-cover" style="background-image: url(assets/img/covers/cover-5.jpg);">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-12 col-md-10 col-lg-8 text-center">
            
            <!-- Heading -->
            <h1 class="display-2 font-weight-bold text-white">
              Leve a message
            </h1>

            <!-- Text -->
            <p class="lead text-white-75 mb-0">
              Please describe your situation and expectations.
            </p>

          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>

    <!-- SHAPE
    ================================================== -->
    <div class="position-relative">
      <div class="shape shape-bottom shape-fluid-x svg-shim text-light">
        <svg viewBox="0 0 1440 24" fill="none" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
        <path d="M0 24H1440V0C722.5 52 0 0 0 0V24Z" fill="currentColor"/>
        </svg>

      </div>
    </div>

    <!-- FORM
    ================================================== -->
    <section class="pt-8 pt-md-11 pb-8 pb-md-14">
      <div class="container">

        <div class="row justify-content-center">
          <div class="col-12 col-md-12 col-lg-10">
            
            <!-- Form -->
            <form onsubmit='send_message(event)'>
              <div class="row">
                <div class="col-12 col-md-6">
                  <div class="form-group mb-5">
                    
                    <!-- Label -->
                    <label for="contactName">
                      Full name
                    </label>

                    <!-- Input -->
                    <input type="text" class="form-control" id="contact_name" placeholder="Full name">

                  </div>
                </div>
                <div class="col-12 col-md-6">
                  <div class="form-group mb-5">
                    
                    <!-- Label -->
                    <label for="contactEmail">
                      Email
                    </label>

                    <!-- Input -->
                    <input type="email" class="form-control" id="contact_email" placeholder="hello@domain.com">

                  </div>
                </div>
              </div> <!-- / .row -->
              <div class="row">
                <div class="col-12">
                  <div class="form-group mb-7 mb-md-9">
                    
                    <!-- Label -->
                    <label for="contactMessage">
                      What can we help you with?
                    </label>

                    <!-- Input -->
                    <textarea class="form-control" id="contact_message" rows="5" placeholder="Tell us what we can help you with!"></textarea>

                  </div>
                </div>
              </div> <!-- / .row -->
              <div class="row justify-content-center">
                <div class="col-auto">
                  
                  <!-- Submit -->

                  <button type="submit" id="submit_button" class="btn btn-primary lift">
                    Send message
                  </button>

                </div>
              </div> <!-- / .row -->
              <div class="mt-5 alert alert-light" id='alert' role="alert" hidden>
                Your message has been sent successfully!
              </div>
            </form>

          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container -->
    </section>

<script>

  //
  //	Get temporary credentials from AWS.
  //
  AWS.config.update({
    region: "{{ site.env.AWS_REGION }}",
    credentials: new AWS.CognitoIdentityCredentials({
      IdentityPoolId: "{{ site.env.IDENTITY_POOL_ID }}"
    })
  });
  
  //
  //  Initializing s3 object
  //
  let s3 = new AWS.S3({
    apiVersion: '2006-03-01'
  });

  // 
  //  1.  Function to get field values
  //

  function send_message(event)
  {
    event.preventDefault();

    //
    //  1.  Get information from corresponding fields.
    //
    let message = $('#contact_message')[0].value;
    let email = $('#contact_email')[0].value;
    let fullname = $('#contact_name')[0].value;

    //
    //  2.  Disable the fields
    //
    $('#contact_message')[0].disabled = true;
    $('#contact_email')[0].disabled = true;
    $('#contact_name')[0].disabled = true;
    $('#submit_button')[0].disabled = true;
    $('#submit_button')[0].textContent = 'Sending...'

    //
    //  3.  create a JSON object
    //
    let json = {
      'full_name' : fullname,
      'email' : email,
      'body' : message
    }

    //
    //  4.  Stringify JSON
    //
    let data = JSON.stringify(json)

    //
    //  5.  Convert string to binary data
    //
    let binary = string_to_binary(data)

    //
    //  6.  Prepare parameters for putObject function
    //
    let params = {
      Body: binary,
      Bucket: "{{ site.env.S3_BUCKET }}",
      Key: "message_from_" + email + ".json"
    }

    //
    //  6.  Call putObject to send json to S3 Bucket
    //
    s3.putObject(params, function(error, data) {

      if(error)
      {
        return console.log(error);
      }
      
      //
      //  1. Show Alert saying data sent successfully
      //
      $('#alert')[0].hidden = false;
      $('#alert')[0].fadeOut(4000);
      
      //
      //  2.  Enable and clean input fields
      //
      $('#contact_message')[0].disabled = false;
      $('#contact_email')[0].disabled = true;
      $('#contact_name')[0].disabled = true;
      $('#submit_button')[0].disabled = false;

      $('#contact_message')[0].value= '';
      $('#contact_email')[0].value= '';
      $('#contact_name')[0].value= '';
    
    })
  }

  //
  //  A helper function to convert string to binary
  //
  function string_to_binary(string)
  {
    let output = '';

    for (i=0; i < string.length; i++) 
    {
      output +=string[i].charCodeAt(0).toString(2) + " ";
    }
    
    return output
  }

</script>